{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {% block title %}
        {% endblock %} | 투자의구루
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/searchpanes/1.4.0/css/searchPanes.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.3.3/css/select.dataTables.min.css">

    <!-- jquery를 불러오기 위한 소스 -->
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <!-- datatable의 css 불러오기 -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.css">
    <!-- datatable의 js 불러오기 -->
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>

    
    {% if user.is_authenticated %}
    <button><a href="{% url 'accounts:logout' %}">Logout</a></button>
    {% else %}
    <button><a href="{% url 'accounts:login' %}">Login</a></button>
    <button><a href="{% url 'accounts:signup' %}">signup</a></button>
    {% endif %}
    <br><br>

    <div>
    <center>
    <a href="{% url 'homepage:home' %}">
        <img class="logo" src="{% static 'image/logo.png' %}" alt="투자의구루 로고">
    </a>
    </center>
    <br>
    </div>

    <div class="text-center">
    <h1>투자의구루</h1>
    </div>

  
    
    <br>
   
    <!-- 종목 검색창 -->
    <!-- <form method="POST" action="{% url 'stockrankings:search' %}">
        {% csrf_token %}
       <div class="input-group input-group-lg"> 
           <input  class="form-control" type="text" placeholder="search" aria-label="Search" name="stocksearch" value="{{symbol}}" size=50>
           <button class="btn btn-outline-secondary" type="submit" id="button-addon2">종목 검색</button>
        </div>
    </form> -->
    <!--  -->

    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a href="{% url 'stockrankings:ranking' %}" class="nav-link active" aria-current="page">Stock
                            Ranking</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="{% url 'stockrankings:tenbaggers' %}">10
                            Baggers finder</a>
                    </li>

                    <li class="nav-item">
                        <a href="{% url 'posts:list' %}" class="nav-link active" aria-current="page">Notice</a>
                    </li>

                    <li class="nav-item">
                        <a href="{% url 'photolog:list' %}" class="nav-link active" aria-current="page">Instockgram</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
</head>
<br><br><br>

  <form action="{% url 'stockrankings:search' %}" method="post">
        {% csrf_token %}
        <center>
        <input class='search_bar' type="search" placeholder="Search" aria-label="Search" name="q" value="{{q}}" class="input">
        </center>
    </form>

<body>

    {% block content %}
    {% endblock %}
     
</body>

<script>
// 해당 영역은 script 영역이라 html과는 다른 명령어 사용 크게 주석 사용도 <!----> 형식에서 //로 바뀌었습니다.
// $ 문자가 들어가는건 jquert라고 합니다.
$(document).ready(function() {      // document 현재 문서가 ready 준비되었을때 즉 모두 로딩이 되었을때 function함수를 실행해라 
    $('#table_id').DataTable( {      // #example : example라는 id를 가진 항목에 DataTable를 추가해라
        "ajax": {
            "url": "{% url 'stockrankings:test' %}", // 데이터를 가지고 올 경로
            "dataSrc": ""
        },
        "columns": [
            { "data": "test" },             // 데이터 중 name라는 값을 첫 번째 컬럼에 넣기
            { "data": "test2" },         // 데이터 중 position 값을 두 번째 컬럼에 넣기
        ]
    } );
} );       
</script>

</html>